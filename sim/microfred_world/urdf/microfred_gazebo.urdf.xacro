<?xml version="1.0"?>
<!-- Basic WAM-V with gazebo plugins for dynamics -->
<robot xmlns:xacro="http://ros.org/wiki/xacro"
       name="microfred_world">
  <xacro:arg name="locked" default="false" />
  <!-- Note: this is only used for some sensors that do not correctly use the 
  robotNamespace parameter -->
  <xacro:arg name="namespace" default="microfred_world"/>    

  <xacro:property name="namespace" value="$(arg namespace)" scope="global" />      


  <!-- === combo === -->
  <xacro:include filename="$(find microfred_world)/urdf/microfred_gazebo.xacro"/>


  <!-- === Decide if we lock the robot to the world === -->
  <xacro:if value="$(arg locked)">
    <gazebo>
      <link name="microfred_external_link"/>
      <joint name="microfred_external_pivot_joint" type="universal">
        <parent>microfred_world::chassis</parent>
        <child>microfred_external_link</child>
        <axis>
          <xyz>1 0 0</xyz>
        </axis>
        <axis2>
          <xyz>0 1 0</xyz>
        </axis2>
      </joint>
      <joint name="microfred_external_riser" type="prismatic">
        <parent>world</parent>
        <child>microfred_external_link</child>
        <axis>
          <limit>
            <lower>-3</lower>
            <upper>3</upper>
          </limit>
          <xyz>0 0 1</xyz>
        </axis>
      </joint>
    </gazebo>
  </xacro:if>


</robot>